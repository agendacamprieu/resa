(this.webpackJsonpresa=this.webpackJsonpresa||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),s=n.n(c),i=(n(57),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,115)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),o=(n(41),n(6)),d=n(25),j={integration:"react-1-ZEWiLzgRlUVBOSIka2ff-oM1JKZb7Wz11IqDlU4ejcDW5n-dyB9nvi-2UZhKGlX62e5O25MzT4jf6nvYtMjwcw4Z52ddt0ZLVlmbR4IJVS-tyn1ah2ARqiIv",tt:"tt-1-MEoT3ua1cNGjjdS6VPJz9M3H5MAwSnWqkY2dsyxNn58=",version:"2020-11-20"},l=n(2),u=n.n(l),m=n(7),h=n(11),b=n(19),x=n(5),O=n.n(x),f=n(1),y=function(e){var t=e.reservation;e.index;return Object(f.jsxs)(o.Card,{actions:[Object(f.jsx)(b.b,{to:"/",children:"Voir"},"1")],className:"blue-grey darken-1 reservation-card",closeIcon:Object(f.jsx)(o.Icon,{children:"close"}),revealIcon:Object(f.jsx)(o.Icon,{children:"more_vert"}),textClassName:"white-text",title:t.username,children:[Object(f.jsx)(o.Badge,{className:t.isconfirmed?"green white-text":"lime white-text",children:t.isconfirmed?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(o.Icon,{children:"check"}),Object(f.jsx)("span",{className:"status",children:"V\xe9rifi\xe9"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(o.Icon,{children:"access_time"}),Object(f.jsx)("span",{className:"status",children:"En attente"})]})}),Object(f.jsxs)("p",{children:[O()(t.datebegin).format("DD MMMM YYYY")," ->"," ",O()(t.dateend).format("DD MMMM YYYY")]})]})},v=function(){return Object(f.jsx)(o.Row,{className:"loader-wrapper center-align",children:Object(f.jsx)(o.Preloader,{active:!0,color:"blue",flashing:!0})})},p=function(){var e=Object(a.useState)(!0),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(d.b)(),s=c.Frame,i=c.sync,j=c.configureFrame;return Object(a.useEffect)((function(){Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,j({tableName:"RESERVATION",limit:10});case 3:return e.next=5,i();case 5:r(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]),n?Object(f.jsx)(v,{}):Object(f.jsx)(o.Row,{children:s().map((function(e,t){return Object(f.jsx)(o.Col,{m:6,s:12,children:Object(f.jsx)(y,{reservation:e,index:t})},t)}))})},M=r.a.createContext({period:"month",currentDate:O()().date(1),setTheme:function(){}}),_=n(9),N=n(24),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?Object(N.a)(Array(e).keys()).map((function(e){return e+t})):[]},k=function(e){var t=e.month,n=e.day,r=Object(a.useContext)(M).currentDate;return Object(f.jsx)("div",{className:"day",children:Object(f.jsx)("div",{className:O()({year:r.year(),month:parseInt(O()().month(t).format("MM"))-1,day:n}).isSame(O()(),"day")?n>=10?"day-today double-number":"day-today":"",children:n})})},D=function(e){var t=e.month,n=Object(a.useContext)(M).currentDate,r=["l","m","m","j","v","s","d"],c=0===O()(Object(_.a)({},n)).month(t).weekday()?7:O()(Object(_.a)({},n)).month(t).weekday();return r=r.slice(c-1,r.length).concat(r.slice(0,c-1)),Object(f.jsx)("div",{className:"header-small-days",children:r.map((function(e,t){return Object(f.jsx)("div",{className:"year-day",children:e},t)}))})},w=function(e){var t=e.month,n=Object(a.useContext)(M).currentDate,r=g(O()(Object(_.a)({},n)).month(t).daysInMonth(),1);return Object(f.jsxs)(o.Col,{className:"month",s:12,m:3,children:[Object(f.jsx)("h4",{className:O()().format("MMMM")===t&&n.year()===O()().year()?"capitalize teal-text":"capitalize",children:t}),Object(f.jsx)(D,{month:t}),Object(f.jsx)("div",{className:"month-days",children:r.map((function(e,n){return Object(f.jsx)(k,{month:t,day:e},n)}))})]})},C=function(){var e=Object(a.useContext)(M).currentDate;return Object(f.jsxs)("div",{className:"year-calendar",children:[Object(f.jsx)("h4",{className:"teal-text",children:Object(f.jsx)("strong",{children:e.year()})}),Object(f.jsx)(o.Row,{children:O.a.months().map((function(e,t){return Object(f.jsx)(w,{month:e},t)}))})]})},I=function(){var e=Object(a.useContext)(M).currentDate,t=e.format("MMMM"),n=e.year(),r=O.a.weekdays(!0),c=O.a.weekdaysShort(!0),s=function(t){var n="";return n+=t.isInMonth?"in-month":"out-of-month",function(t){return O()({year:e.year(),month:parseInt(e.format("MM"))-1,day:t.number}).isSame(O()(),"day")}(t)&&(n+=" day-today",t.number>=10&&(n+=" double-number")),n},i=function(){var n=[],a=g(e.daysInMonth(),1),r=O()(Object(_.a)({},e)).month(t).subtract(1,"month").daysInMonth(),c=0===O()(Object(_.a)({},e)).month(t).weekday()?7:O()(Object(_.a)({},e)).month(t).weekday(),s=g(c-1,r+2-c).map((function(e){return{isInMonth:!1,number:e}})),i=a.map((function(e){return{isInMonth:!0,number:e}})),o=s.concat(i);return[7,14,21,28,35,42].forEach((function(e,t){n[t]=o.slice(e-7,e)})),n}();return Object(f.jsxs)("div",{className:"month-calendar",children:[Object(f.jsxs)("h4",{className:"capitalize",children:[Object(f.jsx)("span",{className:t===O()().format("MMMM")&&e.year()===O()().year()?"amber-text":"teal-text",children:Object(f.jsx)("strong",{children:t})})," ",n]}),Object(f.jsxs)(o.Table,{className:"centered hide-on-small-only",children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:r.map((function(e,t){return Object(f.jsx)("th",{"data-field":"day",className:"capitalize",children:e},t)}))})}),Object(f.jsx)("tbody",{children:i.map((function(e,t){return Object(f.jsx)("tr",{children:e.map((function(e,t){return Object(f.jsx)("td",{className:s(e),children:e.number},t)}))},t)}))})]}),Object(f.jsxs)(o.Table,{className:"centered hide-on-med-and-up",children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:c.map((function(e,t){return Object(f.jsx)("th",{"data-field":"day",className:"capitalize",children:e},t)}))})}),Object(f.jsx)("tbody",{children:i.map((function(e,t){return Object(f.jsx)("tr",{children:e.map((function(e,t){return Object(f.jsx)("td",{className:s(e),children:e.number},t)}))},t)}))})]})]})},L=function(){var e=Object(a.useContext)(M),t=e.period,n=e.currentDate,r=e.setCurrentDate,c=O()(Object(_.a)({},n));return Object(f.jsxs)(o.Row,{className:"center-align",style:{marginTop:"30px"},children:[Object(f.jsx)(o.Button,{className:"teal darken-1",onClick:function(){return r(O()())},children:"Aujourd'hui"}),Object(f.jsx)(o.Button,{className:"teal darken-1",style:{marginLeft:"25px",marginRight:"5px"},onClick:function(){return r(c.subtract(1,t))},children:Object(f.jsx)(o.Icon,{children:"chevron_left"})}),Object(f.jsx)(o.Button,{className:"teal darken-1",onClick:function(){return r(c.add(1,t))},children:Object(f.jsx)(o.Icon,{children:"chevron_right"})})]})},Y=function(e){e.events;var t=Object(a.useContext)(M).period;return Object(f.jsxs)(f.Fragment,{children:["year"===t&&Object(f.jsx)(L,{}),Object(f.jsx)("div",{className:"year"!==t?"hide":"",children:Object(f.jsx)(C,{})}),Object(f.jsx)("div",{className:"month"!==t?"hide":"",children:Object(f.jsx)(I,{})}),Object(f.jsx)(L,{})]})},S=[{path:"/",exact:!0,component:function(){var e=Object(a.useState)(!0),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(h.a)(c,2),i=s[0],o=s[1],j=Object(d.b)().Query;return Object(a.useEffect)((function(){Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,j({queryName:"confirmed",tableName:"RESERVATION"});case 3:t=e.sent,o(t),r(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]),n?Object(f.jsx)(v,{}):i?Object(f.jsx)(Y,{events:i}):null}},{path:"/reservations",exact:!0,component:p}],T=n(8),E=n(52),P=n.n(E),R=function(){var e=Object(a.useContext)(M),t=e.period,n=e.setPeriod;return Object(f.jsx)("div",{id:"menu-navbar",children:Object(f.jsxs)(o.Navbar,{alignLinks:"right",brand:Object(f.jsxs)("div",{className:"brand-logo",children:[Object(f.jsx)(o.Icon,{medium:!0,className:"teal-text text-darken-3",children:"house"}),Object(f.jsx)("span",{children:"Camprieu"})]}),id:"mobile-nav",menuIcon:Object(f.jsx)(o.Icon,{children:"menu"}),style:{backgroundColor:"#26a69a"},children:[Object(f.jsx)(o.Switch,{id:"switch-theme",offLabel:"Ann\xe9e",onChange:function(){n("month"===t?"year":"month")},onLabel:"Mois",checked:"month"===t}),Object(f.jsx)(b.b,{to:"/",children:"Calendrier"}),Object(f.jsx)(b.b,{to:"/reservations",children:"R\xe9servations"})]})})};O.a.locale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")},meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},week:{dow:1,doy:4}});var F=function(e){var t=e.children,n=Object(a.useState)("month"),r=Object(h.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(O()().date(1)),o=Object(h.a)(i,2),d={period:c,setPeriod:s,currentDate:o[0],setCurrentDate:o[1]};return O.a.locale("fr"),Object(f.jsx)(M.Provider,{value:d,children:t})},H=function(){return Object(f.jsx)(F,{children:Object(f.jsxs)(d.a,{ebconfig:j,children:[Object(f.jsx)("div",{className:"hide",children:P.a.version}),Object(f.jsx)(R,{}),Object(f.jsx)(o.Container,{id:"mainContainer",style:{padding:"15px"},children:Object(f.jsx)(T.c,{children:S.map((function(e,t){return Object(f.jsx)(T.a,{path:e.path,exact:e.exact,children:Object(f.jsx)(e.component,{})},t)}))})})]})})};var z=function(){return Object(f.jsx)(b.a,{children:Object(f.jsx)(H,{})})};s.a.render(Object(f.jsx)(z,{}),document.getElementById("root")),i()},41:function(e,t,n){},57:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.dfd1f824.chunk.js.map